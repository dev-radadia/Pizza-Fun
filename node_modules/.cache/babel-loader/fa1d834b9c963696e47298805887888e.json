{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\DEV\\\\Downloads\\\\Pizza Time\\\\src\\\\routes\\\\menu\\\\MenuItem.js\";\nimport React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport AddToCartButton from \"../cart/AddToCartButton.js\";\nimport Attribute from \"./Attribute\";\nimport ResetLocation from \"../../helpers/ResetLocation.js\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default class MenuItem extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.handleSelectedAttributes = (attributeId, attributeValue) => {\n      const newSelectedAttribute = {\n        attributeId,\n        attributeValue\n      };\n      let userSelectedAttributes = [...this.state.selectedAttributes];\n      const existingAttribute = userSelectedAttributes.find(attribute => attribute.attributeId === newSelectedAttribute.attributeId);\n\n      if (existingAttribute) {\n        for (let i = 0; i < userSelectedAttributes.length; i++) {\n          if (userSelectedAttributes[i].attributeId === newSelectedAttribute.attributeId) {\n            userSelectedAttributes[i] = { ...newSelectedAttribute\n            };\n          }\n        }\n      } else {\n        userSelectedAttributes.push(newSelectedAttribute);\n      }\n\n      this.setState({\n        selectedAttributes: userSelectedAttributes\n      });\n    };\n\n    this.handleAllAttributesAreSelected = async () => {\n      this.setState({\n        allAttributesAreSelected: true\n      });\n    };\n\n    this.handleProductHasNoAttributes = async () => {\n      if (this.props.singleProduct.attributes.length === 0) {\n        this.handleAllAttributesAreSelected();\n      }\n    };\n\n    this.state = {\n      selectedAttributes: [],\n      allAttributesAreSelected: false\n    };\n    this.handleSelectedAttributes = this.handleSelectedAttributes.bind(this);\n  } //HANDLE ATTRIBUTES\n\n  /*********************************************************************/\n\n\n  // RENDER & UPDATE\n\n  /*********************************************************************/\n  componentDidMount() {\n    this.handleProductHasNoAttributes();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (this.state.selectedAttributes !== nextState.selectedAttributes && nextState.selectedAttributes.length === this.props.singleProduct.attributes.length) {\n      this.handleAllAttributesAreSelected();\n    }\n\n    return true;\n  }\n\n  render() {\n    var _singleProduct$attrib;\n\n    const {\n      singleProduct,\n      handleAddProduct,\n      handleRemoveProduct,\n      successMsg\n    } = this.props;\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"menu-item flex-container flex-column txt-white\",\n      children: [/*#__PURE__*/_jsxDEV(NavLink, {\n        to: `/${singleProduct.id}`,\n        className: \"menu-item-link\",\n        onClick: ResetLocation,\n        children: /*#__PURE__*/_jsxDEV(\"img\", {\n          src: singleProduct.ItemImg,\n          alt: `${singleProduct.ItemName}`\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: singleProduct.ItemName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        children: singleProduct.ItemIngredients\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), singleProduct === null || singleProduct === void 0 ? void 0 : (_singleProduct$attrib = singleProduct.attributes) === null || _singleProduct$attrib === void 0 ? void 0 : _singleProduct$attrib.map(attribute => /*#__PURE__*/_jsxDEV(Attribute, {\n        className: \"menu-item-attributes\",\n        handleSelectedAttributes: this.handleSelectedAttributes,\n        attribute: attribute\n      }, attribute.id, false, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"price\",\n        children: [singleProduct.sale === true ? /*#__PURE__*/_jsxDEV(\"section\", {\n          className: \"sale-pricing\",\n          children: [\"  \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price-num-before\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"$\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 104,\n              columnNumber: 13\n            }, this), singleProduct.ItemPriceBefore]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 103,\n            columnNumber: 78\n          }, this), \" \", /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price-num\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"$\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 107,\n              columnNumber: 15\n            }, this), singleProduct.ItemPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 106,\n            columnNumber: 16\n          }, this), \"      \"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 103,\n          columnNumber: 42\n        }, this) : /*#__PURE__*/_jsxDEV(\"section\", {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"price-num\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              children: \"$\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 112,\n              columnNumber: 17\n            }, this), singleProduct.ItemPrice]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 111,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 110,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(AddToCartButton, {\n          successMsg: successMsg,\n          allAttributesAreSelected: this.state.allAttributesAreSelected,\n          handleAddProduct: handleAddProduct,\n          handleRemoveProduct: handleRemoveProduct,\n          singleProduct: singleProduct,\n          selectedAttributes: this.state.selectedAttributes\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this);\n  }\n\n}","map":{"version":3,"names":["React","NavLink","AddToCartButton","Attribute","ResetLocation","MenuItem","Component","constructor","props","handleSelectedAttributes","attributeId","attributeValue","newSelectedAttribute","userSelectedAttributes","state","selectedAttributes","existingAttribute","find","attribute","i","length","push","setState","handleAllAttributesAreSelected","allAttributesAreSelected","handleProductHasNoAttributes","singleProduct","attributes","bind","componentDidMount","shouldComponentUpdate","nextProps","nextState","render","handleAddProduct","handleRemoveProduct","successMsg","id","ItemImg","ItemName","ItemIngredients","map","sale","ItemPriceBefore","ItemPrice"],"sources":["C:/Users/DEV/Downloads/Pizza Time/src/routes/menu/MenuItem.js"],"sourcesContent":["import React from \"react\";\nimport { NavLink } from \"react-router-dom\";\nimport AddToCartButton from \"../cart/AddToCartButton.js\";\nimport Attribute from \"./Attribute\";\nimport ResetLocation from \"../../helpers/ResetLocation.js\";\n\nexport default class MenuItem extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      selectedAttributes: [],\n      allAttributesAreSelected: false,\n    };\n    this.handleSelectedAttributes = this.handleSelectedAttributes.bind(this);\n  }\n\n  //HANDLE ATTRIBUTES\n  /*********************************************************************/\n  handleSelectedAttributes = (attributeId, attributeValue) => {\n    const newSelectedAttribute = { attributeId, attributeValue };\n\n    let userSelectedAttributes = [...this.state.selectedAttributes];\n    const existingAttribute = userSelectedAttributes.find(\n      (attribute) => attribute.attributeId === newSelectedAttribute.attributeId\n    );\n\n    if (existingAttribute) {\n      for (let i = 0; i < userSelectedAttributes.length; i++) {\n        if (\n          userSelectedAttributes[i].attributeId ===\n          newSelectedAttribute.attributeId\n        ) {\n          userSelectedAttributes[i] = { ...newSelectedAttribute };\n        }\n      }\n    } else {\n      userSelectedAttributes.push(newSelectedAttribute);\n    }\n    this.setState({ selectedAttributes: userSelectedAttributes });\n  };\n  // Check if attributes are selected\n  /*******************************************************************/\n  handleAllAttributesAreSelected = async () => {\n    this.setState({ allAttributesAreSelected: true });\n  };\n  // /********************************************************/\n  handleProductHasNoAttributes = async () => {\n    if (this.props.singleProduct.attributes.length === 0) {\n      this.handleAllAttributesAreSelected();\n    }\n  };\n\n  // RENDER & UPDATE\n  /*********************************************************************/\n  componentDidMount() {\n    this.handleProductHasNoAttributes();\n  }\n\n  shouldComponentUpdate(nextProps, nextState) {\n    if (\n      this.state.selectedAttributes !== nextState.selectedAttributes &&\n      nextState.selectedAttributes.length ===\n      this.props.singleProduct.attributes.length\n    ) {\n      this.handleAllAttributesAreSelected();\n    }\n    return true;\n  }\n\n  render() {\n    const {\n      singleProduct,\n      handleAddProduct,\n      handleRemoveProduct,\n      successMsg,\n    } = this.props;\n\n    return (\n      <div className=\"menu-item flex-container flex-column txt-white\">\n        <NavLink\n          to={`/${singleProduct.id}`}\n          className=\"menu-item-link\"\n          onClick={ResetLocation}\n        >\n          <img\n            src={singleProduct.ItemImg}\n            alt={`${singleProduct.ItemName}`}\n          ></img>\n        </NavLink>\n\n        <h3>{singleProduct.ItemName}</h3>\n        <p>{singleProduct.ItemIngredients}</p>\n        {singleProduct?.attributes?.map((attribute) => (\n          <Attribute\n            key={attribute.id}\n            className=\"menu-item-attributes\"\n            handleSelectedAttributes={this.handleSelectedAttributes}\n            attribute={attribute}\n          />\n        ))}\n        <div className=\"price\">\n\n          {singleProduct.sale === true ? <section className=\"sale-pricing\">  <p className=\"price-num-before\">\n            <span>$</span>\n            {singleProduct.ItemPriceBefore}\n          </p> <p className=\"price-num\">\n              <span>$</span>\n              {singleProduct.ItemPrice}\n            </p>      </section> :\n            <section>\n              <p className=\"price-num\">\n                <span>$</span>\n                {singleProduct.ItemPrice}\n              </p>\n            </section>}\n\n\n          <AddToCartButton\n            successMsg={successMsg}\n            allAttributesAreSelected={this.state.allAttributesAreSelected}\n            handleAddProduct={handleAddProduct}\n            handleRemoveProduct={handleRemoveProduct}\n            singleProduct={singleProduct}\n            selectedAttributes={this.state.selectedAttributes}\n          />\n        </div>\n      </div>\n    );\n  }\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}